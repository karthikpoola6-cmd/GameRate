# Session 009 - January 26, 2026

## Summary
Set up GameRate app icon and PWA (Progressive Web App) support for installable mobile experience.

## What We Did

### 1. App Icon Implementation
- Added new `GameRate.png` gem icon to the project
- Implemented icon across all pages with GameRate logo:
  - Navigation (main nav bar)
  - Login, Signup, Setup Username pages
  - Settings/profile page
  - Not-found and loading pages
- Set as favicon and Apple touch icon
- Adjusted icon size (36px) and spacing (gap-1.5) for better visual balance

### 2. PWA Setup
- Created `public/manifest.json` with app metadata:
  - App name, description, colors
  - Purple theme color (#8b5cf6)
  - Dark background (#0f0a19)
  - Standalone display mode
- Created `public/sw.js` service worker:
  - Network-first caching strategy
  - Offline support
  - Skips API/auth requests
- Updated `layout.tsx` with:
  - Manifest link
  - Apple Web App meta tags
  - Theme color
  - Service worker registration

### 3. Account Deletion Review
- Confirmed existing robust deletion flow:
  - Danger zone section in settings
  - Modal confirmation
  - Requires typing "delete my account" exactly
  - Shows warnings about permanent data loss

## Files Changed
- `public/GameRate.png` - New app icon
- `public/manifest.json` - PWA manifest (new)
- `public/sw.js` - Service worker (new)
- `src/app/layout.tsx` - PWA meta tags and SW registration
- `src/components/Navigation.tsx` - Added icon
- `src/app/login/page.tsx` - Added icon
- `src/app/signup/page.tsx` - Added icon
- `src/app/setup-username/page.tsx` - Added icon
- `src/app/settings/profile/page.tsx` - Added icon
- `src/app/user/[username]/not-found.tsx` - Added icon
- `src/app/game/[slug]/not-found.tsx` - Added icon
- `src/app/game/[slug]/loading.tsx` - Added icon

## Commits Made
1. `697a3f2` - Add GameRate gem icon across all pages
2. `28fde46` - Add PWA support for installable app experience

## Discussion Topics

### PWA vs Native App
- PWA keeps same Vercel deployment workflow
- Editing stays the same (push to GitHub â†’ Vercel deploys)
- Users can install to home screen on iOS/Android
- Removes browser UI when launched from home screen

### Concerns Discussed
1. **Vercel costs** - Free tier is generous but user concerned about scaling
2. **Browser feel** - PWA still has some web characteristics

### Alternative Approaches Discussed
- **Capacitor** - Wrap existing app in native shell, publish to app stores
- **React Native/Expo** - Rewrite for true native feel, no Vercel needed
- **Native (Swift/Kotlin)** - Full rewrite, best performance

### Future Feature: Landing Page Separation
Discussed isolating the PWA with a static landing page:
- **Option 2 recommended**: Separate routes
  - `/` = Static landing page (marketing, install instructions)
  - `/app` = Full GameRate app (only accessible when installed)
  - PWA manifest `start_url` points to `/app`
- Benefits:
  - Clean marketing page for sharing
  - App experience reserved for installed users
  - Can still add payments/premium features to `/app`
  - Same editing workflow

---

# Session 009 (Continued) - January 27, 2026

## Summary
Fixed Vercel image optimization usage, favorite games persistence, and redesigned the top 5 favorites UI.

## What We Did

### 1. Vercel Image Optimization Fix
- User was at 50%+ usage for image optimization
- Added `unoptimized` prop to all IGDB game cover images (15 images across 12 files)
- IGDB already serves pre-optimized images at 264x374px
- Vercel usage will stop increasing and reset monthly

**Files changed:**
- `src/app/page.tsx`
- `src/app/games/page.tsx`
- `src/app/search/page.tsx`
- `src/app/game/[slug]/page.tsx`
- `src/app/user/[username]/page.tsx`
- `src/app/user/[username]/games/GamesGridClient.tsx`
- `src/app/user/[username]/want-to-play/page.tsx`
- `src/app/user/[username]/lists/page.tsx`
- `src/app/user/[username]/reviews/ReviewsListClient.tsx`
- `src/components/FavoriteGames.tsx`
- `src/components/ActivityFeedClient.tsx`
- `src/components/ListViewClient.tsx`
- `src/components/SearchBar.tsx`
- `src/components/AddGameToList.tsx`

### 2. Favorite Games Persistence Fix
- Bug: Clearing a star rating deleted the entire game_log, removing game from favorites
- Fix: If game is favorited, keep the log and just clear the rating
- Only delete log if game is NOT a favorite

**File changed:** `src/components/GameLogButtons.tsx`

### 3. Empty Favorite Slot Navigation
- Changed empty slot link from `/` (landing page) to `/search`

### 4. Favorite Games UI Redesign
- Added Edit/Done toggle button
- Moved rankings outside posters (shown as "1. Game Name" below)
- X remove buttons only visible in edit mode
- Drag to reorder only enabled in edit mode
- Added wiggle animation when editing (iOS-style)
- Clean poster appearance when not editing

**Files changed:**
- `src/components/FavoriteGames.tsx`
- `src/app/globals.css` (added wiggle animation)

## Commits Made
1. `f9b4042` - Skip Vercel image optimization for IGDB game covers
2. `d1dcac9` - Fix favorite games persistence and empty slot navigation
3. `c354525` - Redesign favorite games UI with edit mode

## Next Session
- Consider implementing landing page separation (Option 2)
- Potentially add payment/subscription features
- Continue PWA refinements as needed
